<section class="perfil-container">
    <div class="perfil-info-datos">
        <div class="perfil-info">
            <img src="{{ perfil.foto }}" alt="Perfil" class="perfil-img">
            <p>{{ usuario.username }}</p>
            <button class="btn-editar" onclick="openEditModal()">Editar Perfil</button>
        </div>
        <div class="perfil-datos">
            <h2>Datos del perfil</h2>
            <p>Nombre: {{ usuario.nombre }}</p>
            <p>Teléfono: {{ usuario.telefono }}</p>
            <p>Correo: {{ usuario.correo }}</p>
            <p>Dirección: {{ perfil.direccion }}</p>
            <p>Historial de compras <span class="historial-count">{{ perfil.historial | length if perfil.historial else 0 }}</span> <button class="btn-ver-historial">Ver Historial</button></p>
        </div>
    </div>
    <div class="perfil-reseñas">
        <h2>Mis reseñas</h2>
        <div class="reseñas-lista">
            <div class="reseñas-contenedor">
                <ul>
                    {% for reseña in usuario.reseñas %}
                    <li>{{ reseña }}</li>
                    {% endfor %}
                </ul>
            </div>
        </div>
    </div>
</section>

<style>
    /* Estilos para la sección perfil */
    .perfil-container {
        display: flex;
        flex-direction: column;
        align-items: center;
        width: 100%;
        background: linear-gradient(135deg, #0d6efd, #6610f2);
        padding: 10px;
        box-sizing: border-box;
        color: white;
    }

    .perfil-info-datos {
        display: flex;
        flex-direction: column;
        align-items: center;
        margin: 10px;
        width: 100%;
        max-width: 1200px;
        background: rgba(255, 255, 255, 0.1);
        padding: 20px;
        border-radius: 10px;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    }

    .perfil-info {
        display: flex;
        flex-direction: column;
        align-items: center;
        text-align: center;
        margin-bottom: 20px;
    }

    .perfil-img {
        width: 150px;
        height: 150px;
        border-radius: 50%;
        margin-bottom: 10px;
        border: 3px solid #ffdd57;
    }

    .btn-editar,
    .btn-ver-historial {
        margin-top: 10px;
        padding: 10px 20px;
        background-color: #ffdd57;
        color: #0d6efd;
        border: none;
        border-radius: 5px;
        cursor: pointer;
        transition: background-color 0.3s ease;
    }

    .btn-editar:hover,
    .btn-ver-historial:hover {
        background-color: #f7c400;
    }

    .perfil-datos {
        padding: 10px 20px;
        display: flex;
        flex-direction: column;
        justify-content: center;
    }

    .perfil-datos h2 {
        margin-bottom: 10px;
        color: #ffdd57;
    }

    .perfil-reseñas {
        margin: 10px;
        width: 100%;
        max-width: 800px;
        background: rgba(255, 255, 255, 0.1);
        padding: 20px;
        border-radius: 10px;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    }

    .reseñas-contenedor {
        width: 300px;
        height: 320px;
        overflow-y: auto;
        padding: 0px;
    }

    .perfil-reseñas h2 {
        margin-bottom: 10px;
        color: #ffdd57;
    }

    .reseñas-lista {
        border: 1px solid #ccc;
        padding: 10px;
        border-radius: 5px;
        background: rgba(255, 255, 255, 0.2);
    }

    .reseñas-lista ul {
        list-style-type: none;
        padding: 0;
    }

    .reseñas-lista li {
        margin-bottom: 5px;
    }

    .historial-count {
        display: inline-block;
        padding: 5px 10px;
        background-color: #007bff;
        color: white;
        border-radius: 50%;
        margin-left: 10px;
    }

    @media (min-width: 768px) {
        .perfil-container {
            flex-direction: row;
            justify-content: center;
        }

        .perfil-info-datos {
            flex-direction: row;
            margin-right: 20px;
        }

        .perfil-reseñas {
            margin: 10px;
            width: 100%;
            max-width: 400px;
        }
    }
</style>